<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicaciones de las derivadas parciales</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./hl.css">
    <link rel="stylesheet" href="./game.css">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
</head>
<body>
        <header id="header" class="header">
            <nav class="navbar">
                <a href="/" class="navbar__logo">
                    <img src="./images/unam.png" alt="">
                </a>
                <p> Proyecto <br>
                    UNAM-DGAPA-PAPIME <br>
                    PE107420
                </p>
                <div id="toggle"></div>
                <div id="sidebar">
                    <ul>
                        <li><a href="#obj">OBJETIVO</a></li>
                        <li><a href="#intro">INTRODUCCION</a></li>
                        <li><a href="#def">DEFINICION DEL PROBLEMA</a></li>
                        <li><a href="#req">REQUERIMIENTOS</a></li>
                        <li><a href="#pro">PROCEDIMIENTO</a></li>
                        <li><a href="#cues">CUESTIONARIO</a></li>
                        <li><a href="#conc">REFLEXIONES Y CONCLUSIONES</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <div id="_progress"></div>
         
            <!-- hero section -->
            <div class="hero">
                <div class="hero__content">
                    <h1>Aplicaciones de las derivadas parciales en Visión Artificial: detección automática de bordes.</h1>
                    <p> </p>
                    <a href="#obj" class="button">Comenzar</a>
                </div>
            </div>
            <!-- Table -->
            <div class="tabla">
                <div class="tabla__container">
                    <div>
                        <p class="topline">Asignatura relacionada</p> <br>
                    </div>
                    <div>
                        <p class="text__table">Cálculo Vectorial</p> <br>
                    </div>
                    <div>
                        <p class="topline">Semestre </p> <br>
                    </div>
                    <div>
                        <p class="text__table">	Segundo semestre</p><br>
                    </div>
                    <div>
                        <p class="topline">Tema relacionado	</p> <br>
                    </div>
                    <div>
                            <p class="text__table" style="text-align: left;">Plan 1279 y Plan 2119 <br> <br>
                                2. Derivadas parciales. Diferenciales exactas. <br><br>
                                2.1.1 Interpretación geométrica para el caso de dos variables <br><br>
                                </p> <br>
                    </div>
                    <div>
                        <p class="topline">Nombre del caso práctico	</p>  
                    </div>
                    <div>
                        <p class="text__table">Aplicaciones de las derivadas parciales en Visión Artificial: detección automática de bordes</p><br>
                    </div>
                    <div>
                        <p class="topline"> Trabajo realizado con el apoyo del Programa UNAM-DGAPA-PAPIME PE107420	</p>
                    </div>
                </div>
                <hr id="thread3" class="right">
            </div>
            <!-- objetivos -->
            <div class="objetivos" id="obj">
                <div class="objetivos__container">
                    <div>
                        <h1 class="objetivos__heading">Objetivo</h1>
                    </div>
                    <div class="objetivos__text">
                        <p class="text">
                            Diseñar un detector automático de bordes de imágenes aplicando el concepto de derivadas parciales.
                        </p>
                    </div>
                </div>
            </div>
            <!-- Introduccion -->
            <div class="contenedor-central" id="intro">
                <h1> Introducción</h1>
                <div>
                    <div class=" text__intro">
                        <p>Retomando los temas que viste en clase, con la visión artificial podemos hacer que las computadoras puedan percibir y comprender el contenido de una imagen y con base en ello tomar una decisión especifica.</p>
                        <p>Estas decisiones son el objetivo principal del uso de la visión artificial, por ejemplo: la visión artificial de un automóvil autónomo requiere analizar las imágenes y detectar en ellas todos los obstáculos para evitar un choque.  Este magnifico campo de la investigación se encuentra en diferentes áreas como en el Control de calidad, la Manufactura y Logística, solo por mencionar algunas.</p>
                        <p>Pero ¿cómo es posible que una computadora tenga conocimiento del contenido en una imagen? La respuesta es sencilla, se debe aplicar una técnica llamada Detección de Bordes, la cual permite aislar elementos de una imagen y separarlos del fondo. Obteniendo de esta manera, el contorno de cada uno de ellos.  </p>
                    </div>
                </div>
            </div>
            <!-- Definicion del problema -->
            <div class="contenedor-central " style="background-color: #A89469;" id="def" >
                <h1> Definición del Problema</h1>
                <div>
                    <div class=" text__intro" style="text-align: justify;  ">
                        <p>La visión por computadora es un área de la Inteligencia Artificial en la que se estudian algoritmos y estrategias que permiten a las máquinas ver y entender algunos de los aspectos del mundo que les rodea </p>
                        <p>En los últimos años han existido grandes avances, y actualmente existen muchos algoritmos que permiten a las computadoras entender el contenido de imágenes y videos. Por ejemplo, existen algoritmos para identificar los objetos que aparecen en una imagen, o detectar la presencia de rostros en una fotografía, e incluso reconocer su identidad.  </p>
                        <p>En este proyecto estudiaremos uno de los problemas más básicos de visión artificial, que es la detección de bordes de una imagen. Esto consiste en identificar la orilla o contorno de un objeto. Imagina que estás programando un robot para que agarre una manzana. Sería de gran utilidad para el robot conocer el contorno de dicha manzana. </p>
                    </div>
                </div>
            </div>
            <!-- Requerimientos -->
            <div class="requerimientos" id="req">
                <div class="requerimientos__container">
                    <div>
                        <h1 class="requerimientos__heading">Requerimientos</h1>
                    </div>
                    <div>
                        <div>
                            <p class="text">
                                <p>1.- Como primer paso, necesitas instalar un IDE que te permita trabajar con lenguaje Python. Se recomienda utilizar Jupyter <a href="https://jupyter.org/try">https://jupyter.org/try </a> . En este documento, las capturas de pantalla muestran la programación realizada en Jupyter.   </p> <br>
                                <p>2.- También necesitas una imagen en formato jpg, la cual deberá tener el nombre imagen.jpg. </p>
                            </p>
                        </div>
                    </div>
                </div>
                <hr id="thread3" class="right">
            </div>
            <!-- Procedimiento -->
            <div class="contenedor-central " style="background-color:  #fff; color: rgb(36, 36, 36);"  id="pro">
                <h1> Procedimiento</h1>
                <div>
                    <div class=" text__intro" >
                        <p>1.	Dentro de este manual utilizaremos la siguiente imagen  para realizar pruebas. Sin embargo, tú puedes utilizar la que gustes, siempre y cuando sea de extensión jpg.   </p>
                        <br>
                        <div class="contenedor_img ">
                            <div class="image-box">
                                <img src="./images/proyecto3/imagen.jpg" title="" alt="">
                                <div class="text-box">
                                    <a href="./images/proyecto3/imagen.jpg" download ><i class="material-icons  ">download_for_offline </i></a>
                                </div>
                            </div>
                        </div>
                        <br>
                        <br>
                        <p>2.- Como primer paso, deberás importar los siguientes módulos de Python mediante las primeras cuatro líneas de código. Posteriormente, mediante <i>plt.imread </i>se realiza la lectura tu <i>imagen.jpg</i>, la cual se almacena con el nombre de <i>imagen_original</i>. Es necesario que coloques el archivo de tu imagen dentro de la misma carpeta donde se encuentra el programa de Python. Mediante las dos últimas líneas de código se muestra en pantalla la imagen, lo que nos da certeza que en este momento ya se encuentra disponible para poder trabajar con ella. </p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    import numpy as np
                                    import matplotlib.pyplot as plt
                                    from skimage import color
                                    from skimage import io
                                    
                                    imagen_original = plt.imread("imagen.jpg") 
                                    plt.imshow(imagen_original)
                                    plt.show()
                                </code_example>
                                <br>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/1.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>3.- Como siguiente paso, convertiremos la imagen de color a escala de grises. Para ello emplearemos la función <i>color.rgb2gray</i>. Nuevamente mostramos en pantalla la imagen resultante para estar seguros de que todo está funcionando de forma correcta. </p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    imagen = color.rgb2gray(imagen_original)
                                    plt.imshow(imagen,cmap='gray')
                                    plt.show()
                                </code_example>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/2.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>4.- Para conocer el tamaño de la imagen podemos hacerlo de la siguiente forma. El primer valor corresponde al ancho, y el segundo al largo. </p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    print(imagen.shape)
                                </code_example>
                                <br>
                                <p>5.- El ancho y el largo de la imagen con la que estamos trabajando son dos datos que nos serán de gran utilidad en los siguientes pasos. Por ello será conveniente almacenarlas en dos variables por separado de la siguiente forma. Para verificar que lo hicimos de forma correcta, imprimimos el valor de las variables.</p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    ancho = imagen.shape[0]
                                    largo = imagen.shape[1]

                                    print(ancho)
                                    print(largo)
                                </code_example>
                                <br>
                                <p>6.- En este momento resulta importante entender la estructura de la imagen con la que estamos trabajando. La imagen es una matriz de 697 renglones y 1045 columnas. Cada elemento de la matriz corresponde a un píxel, cuyo valor corresponde a la intensidad de gris que le corresponde, con un valor en el intervalo [0,1], donde el 0 corresponde a negro y el 1 a blanco. Resulta importante tener cuidado que la manera en que funcionan las coordenadas de la imagen no corresponde a como estamos acostumbrados usualmente en el sistema de ejes coordenados. Observe en la siguiente figura cómo funciona en este caso. Asignaremos la variable x para referirnos al renglón y la variable y para referirnos a la columna de la imagen. </p>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/graficavacia.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>Podemos mandar a imprimir el valor de algunos de los pixeles de nuestro arreglo. </p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    print(imagen[100][200])
                                    print(imagen[500][600])
                                    print(imagen[650][1000])
                                </code_example>
                                <br>
                                <p>Comparando con la imagen, nos damos cuenta de que el valor del punto corresponde a una zona de color casi blanco, el segundo punto a una zona casi negra, y el tercer punto a una zona gris. Las tres coordenadas elegidas se muestran de forma aproximada en la siguiente figura.</p>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/p3-8.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>Resulta también muy importante entender que la imagen es una función f(x,y) cuyas variables independientes son el valor del renglón y columna de la matriz, y cuya variable dependiente es el color correspondiente a dicho píxel en un intervalo [0,1].</p>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/graficaejemplo.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>Suponga que se tiene esta imagen y analizamos la columna y=2. Con el valor de cada uno de los pixeles creamos una barra con una altura proporcional a su valor. Recuerde que entre más negro sea el píxel, su valor es más cercano es cero y por lo tanto tendremos una altura menor. Por otra parte, entre más blanco sea un píxel su valor será más cercano a uno, y por lo tanto tendremos una altura mayor de su correspondiente barra. En la siguiente figura vemos al lado derecho la reconstrucción con barras de la columna y=2. Dicho de otra forma, vemos lo que ocurre cuando mantenemos constante a la variable y, y únicamente trabajamos con la variable x. </p>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/graficacomparativa.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>De la figura podemos ver que un cambio significativo de tonalidades genera un salto significativo entre el tamaño de las barras. Esto ocurre frecuentemente en los bordes de las imágenes y será la clave para identificarlos. </p>
                                <p>En este caso, podemos detectar bordes cuando nos desplazamos sobre una línea paralela al eje x (manteniendo constante el valor de y). </p>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/demostracion.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>Si queremos calcular el incremento entre dos de estas barras consecutivas haríamos lo siguiente:</p>
                                <p class="formula">
                                    \[m = {f(x_j,y)- f(x_i,y)\over  x_j-x_i}\]
                                </p>
                                <p>Ya que estamos manteniendo a la variable y como constante, entonces en realidad estamos calculando la derivada parcial con respecto a x de la función:</p>
                                <p class="formula">
                                    \[{\partial f(x,y)\over \partial x } = {f(x_j,y)- f(x_i,y)\over  x_j-x_i}\]
                                </p>
                                <p>Para este problema en específico, si siempre calculamos el incremento entre pixeles vecinos, entonces \[x_j-x_i=1\]</p>
                                <p>por lo que se obtiene:</p>
                                <p class="formula">
                                    \[{\partial f(x,y)\over \partial x } = {f(x_j,y)- f(x_i,y)}\]
                                </p>
                                <p>Finalmente, podemos expresar la derivada parcial con respecto a x por medio de Dx  y expresar a j en términos de i como j=i+1 considerando que siempre estamos trabajando con el píxel siguiente, con lo que obtenemos:</p>
                                <p class="formula">
                                    \[D_x = {f(x_{i+1},y)- f(x_i,y) }\]
                                </p>
                                <p>Con esta fórmula, podemos calcular el incremento en la intensidad entre un píxel y otro. El signo que se genera en la derivada nos indicaría si el cambio se da de claro a oscuro o viceversa. Sin embargo, para el problema de los bordes lo único que nos interesa sería la magnitud, por lo que estaríamos calculando el valor absoluto. </p>
                                <p>Transformando las ideas anteriores en código obtenemos:</p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    dx=np.zeros(shape=(ancho,largo))

                                    for i in range(0,ancho-1):
                                        for j in range(0,largo-1):
                                            dx[i][j]= abs(imagen[i+1][j] - imagen[i][j])
                                    plt.imshow(dx,cmap='gray')
                                    plt.show()
                                </code_example>
                                <br>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/3.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>7.- Siguiendo la misma lógica, ahora podemos calcular la derivada parcial con respecto a y en cada uno de los puntos, manteniendo a x como constante:</p>
                                <p class="formula">
                                    \[D_x = {f(x,y_{i+1})- f(x,y_i) }\]
                                </p>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    dy=np.zeros(shape=(ancho,largo))

                                    for i in range(0,ancho-1):
                                        for j in range(0,largo-1):
                                            dy[i][j]= abs(imagen[i][j+1] - imagen[i][j])

                                    plt.imshow(dy,cmap='gray')
                                    plt.show()
                                </code_example>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/4.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>8.- Resultaría conveniente juntar la información de ambas derivadas parciales. Procedemos a calcular el gradiente.</p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    gradiente=np.zeros(shape=(ancho,largo))

                                    for i in range(0,ancho):
                                        for j in range(0,largo):
                                            gradiente[i][j]= dx[i][j] + dy[i][j]

                                    plt.imshow(gradiente,cmap='gray')
                                    plt.show()
                                </code_example>
                                <br>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/5.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                                <p>9.- Los bordes de la imagen pueden resultar más visibles si invertimos los colores.</p>
                                <br>
                                <code_example title="CÓDIGO FUENTE" lang="py">
                                    for i in range(0,ancho):
                                    for j in range(0,largo):
                                        gradiente[i][j]= 1 - gradiente[i][j]

                                plt.imshow(gradiente,cmap='gray')
                                plt.show()
                                </code_example>
                                <br>
                                <div class="contenedor_img ">
                                    <img src="./images/proyecto3/6.png" class="imagen"   alt="Imagen-prueba">
                                </div>
                    </div>
                </div>
                <hr id="thread3" class="right">
            </div>
            <!-- cuestionario -->
            <div>
                <div class="title__cuestion" id="cues">
                    <h1>Cuestionario</h1>
                </div>
                <div class="container3" id="divi">
                    <div id="game" class="games"> 
                        <div id="hud">
                            <div class="hud-item">
                                <p id="progressText" class="hud-prefix">
                                    Pregunta
                                </p>
                                <div id="progressBar">
                                    <div id="progressBarFull"></div>
                                </div>
                            </div>
                            <div class="hud-item">
                                <p class="hud-prefix">
                                    Puntos
                                </p>
                                <h1 class="hud-main-text" id="score">
                                    0
                                </h1>
                            </div>
                        </div>
                        <h1 id="question">pregunta</h1>
                        <div class="choice-container">
                            <p class="choice-prefix">A</p>
                            <p class="choice-text" data-number="1">respuesta</p>
                        </div>
                        <div class="choice-container">
                            <p class="choice-prefix">B</p>
                            <p class="choice-text" data-number="2">respuesta 2</p>
                        </div>
                        <div class="choice-container">
                            <p class="choice-prefix">C</p>
                            <p class="choice-text" data-number="3">respuesta 3</p>
                        </div>
                        <div class="choice-container">
                            <p class="choice-prefix">D</p>
                            <p class="choice-text" data-number="4">respuesta 4</p>
                        </div>
                    </div>
                </div>
                <div id="end" class="flex-center flex-column puntuacion">
                    <form class="end-form-container" id="ending">
                        <div class="title__cuestion">
                            <h2>Obtuviste la siguiente puntuación:</h2>
                        </div>
                        <h2 id="end-text"> </h2>
                        <h1 id="finalScore">0 </h1>
                        <a href="#newtry" onclick="location.reload()" class="btn">Intentar de nuevo</a>
                    </form>
                </div>
            </div>
            <!-- conclusiones -->
            <div class="conclusiones" id="conc">
                <div class="conclusiones__container">
                    <div>
                        <h1 class="conclusiones__heading">Reflexiones y conclusiones</h1>
                    </div>
                    <div>
                            <p class="text"> <p>Responde:</p>
                            <p>1.	¿Qué aplicaciones le podrías dar a la detección automática de bordes?</p>
                            <p>2.	Continua con el desarrollo del código para lograr que en la imagen final se resalten más los bordes, haciendo que tu imagen resultante esté formada por pixeles blancos y negros. </p>
                            <p>3.	¿Qué hubiera sucedido si hubiéramos conservado el signo de las derivadas parciales?</p>
                            <p>4.	¿Se te ocurre alguna aplicación de detección de bordes en la que sea de utilidad el signo de la derivada?</p>
                            </p>
                    </div>
                </div>
            </div>
       
        <!-- footer -->
        <div class="footer">
            <div class="footer__wrapper">
                <div class="footer__desc">
                    <img src="./images/unam.png" alt="">
                </div>
                <div class="footer__links">
                    <h2 class="footer__title">Encargado del proyecto y diseño de casos </h2>
                    <a href="" class="footer__link"> Dr. Arturo Rodriguez Garcia</a>
                </div>
            </div>
            <div class="footer__wrapper">
                <div class="footer__links">
                    <h2 class="footer__title">Diseño de casos y diseño de la pagina web</h2>
                    <a href="" class="footer__link"> Jesús Enrique Chimal Mosso</a>
                </div>
                <div class="footer__links">
                    <h2 class="footer__title">Diseño de la pagina web </h2>
                    <a href="" class="footer__link"> Gonzalo Chávez Onofre </a>
                </div>
            </div>
        </div>
    <script src="./app.js"></script>
    <script src="./hl.js"></script>
    <script src="./game.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <!-- <link href="https://browser-tools.lazydb.com/code_example/code_example.css" rel="stylesheet"> -->
    <!-- <script src="https://browser-tools.lazydb.com/code_example/code_example.js"></script> -->
</body>
</html>
